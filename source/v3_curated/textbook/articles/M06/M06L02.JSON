{
  "id": "M06L02",
  "title": "Lehrtext – Grundlagen: Lineare Optimierung II – Simplex, Tableau & Spezialfälle (Rabatt/Skonto)",
  "reading_time_min": 84,
  "prerequisites": [
    "M06L01"
  ],
  "outcomes": [
    {
      "level": "Understand",
      "text": "Standardform, Slackvariablen, Basis/Nichtbasis, Pivot‑Regeln, Abbruchkriterien."
    },
    {
      "level": "Apply",
      "text": "Kleines LP per Simplex lösen (Tabellen‑Schritte nachvollziehen)."
    },
    {
      "level": "Analyze",
      "text": "Sonderfälle erkennen: unbeschränkt, unzulässig, Degeneration, alternative Optima."
    }
  ],
  "blocks": [
    {
      "type": "introduction",
      "text": "Der **Simplex‑Algorithmus** wandert von Ecke zu Ecke. Wir vermeiden Rechenüberlast: wenige Variablen,\nklare **Tabellen‑Schritte**, anschließend Fading. Du lernst, Pivot‑Spalten/Zeilen zu wählen und Abbruchregeln zu prüfen."
    },
    {
      "type": "concept",
      "title": "Standardform & Tableau",
      "text": "max z=cᵗx,  Ax≤b,  x≥0 → mit Slacks s≥0 als Gleichungen Ax+s=b.  \n**Basis**: Variablen, die aktuell die Gleichungen „tragen“. **Nichtbasis**: auf 0 gesetzt.  \nPivot‑Spalte: positivster Zielfunktionskoeffizient; Pivot‑Zeile: minimaler Quotient b_i/a_{i,pivot}>0.",
      "explanation": "\n\n**Decision-Hints:**\n- Kettenrabatt niemals addieren: immer Faktoren multiplizieren.\n- Skonto auf den bereits rabattierten Preis anwenden."
    },
    {
      "type": "derivation",
      "title": "Simplex – Schrittfolge",
      "steps": [
        "1) Starte mit Slack‑Basis (x=0, s=b).",
        "2) Wähle Pivot‑Spalte (Verbesserungspotential).",
        "3) Wähle Pivot‑Zeile (Quotiententest).",
        "4) Pivotisiere (Zeilenumformungen).",
        "5) Wiederhole bis keine positiven Verbesserungskoeffizienten."
      ],
      "comment": "Bei ≥ oder =‑Restriktionen: künstliche Variablen (Zwei‑Phasen/Big‑M)."
    },
    {
      "type": "visual",
      "title": "Tableau‑Skizze (ASCII)",
      "ascii": "| x1  x2  s1  s2 | RHS\n-----+-----------------+-----\n z   | -c1 -c2   0   0 |  z0\n s1  |  a11 a12  1   0 |  b1\n s2  |  a21 a22  0   1 |  b2",
      "caption": "Pivot: Spalte mit best. −c_j; Zeile via RHS/Positiv‑Koeffizient.",
      "alt_text": "ASCII-Visual: Pivot: Spalte mit best. −c_j; Zeile via RHS/Positiv‑Koeffizient. — Achsen x/y, Einheiten und Legende beachten."
    },
    {
      "type": "example",
      "subtype": "worked",
      "title": "Worked – Simplex in 3 Iterationen",
      "text": "max z=3x₁+2x₂ s.t. x₁+2x₂≤4; 3x₁+2x₂≤6; x≥0.  \nStartbasis s₁=4, s₂=6. Pivot‑Spalte x₁ (3>2). Quotienten: 4/1=4, 6/3=2 ⇒ Zeile s₂.  \nNach Pivot: Basis {x₁,s₁}. Weiter mit x₂. Nach 3 Schritten: Optimum bei (x₁,x₂)=(2,1) mit z=3·2+2·1=**8**.",
      "steps": [
        "max z=3x₁+2x₂ s.t. x₁+2x₂≤4; 3x₁+2x₂≤6; x≥",
        "Startbasis s₁=4, s₂=6. Pivot‑Spalte x₁ (3>2). Quotienten: 4/1=4, 6/3=2 → Zeile s₂",
        "Nach Pivot: Basis {x₁,s₁}. Weiter mit x₂. Nach 3 Schritten: Optimum bei (x₁,x₂)=(2,1) mit z=3·2+2·1="
      ]
    },
    {
      "type": "example",
      "subtype": "fading",
      "title": "Fading – Spezialfälle erkennen",
      "text": "a) Unbeschränkt: In Pivot‑Spalte sind alle a_{i,p} ≤ 0 → __  \nb) Unzulässig: Phase‑1 endet mit z>0 → __  \nc) Alternative Optima: In der Zielfunktionszeile gibt es __",
      "solution": [
        "kein Quotient → z → ∞ (unbeschränkt)",
        "keine zulässige Basis gefunden",
        "weitere Null‑Kandidaten (gleiche c̄_j=0)"
      ],
      "steps": [
        "a) Unbeschränkt: In Pivot‑Spalte sind alle a_{i,p} ≤ 0 → __",
        "b) Unzulässig: Phase‑1 endet mit z>0 → __",
        "c) Alternative Optima: In der Zielfunktionszeile gibt es __"
      ]
    },
    {
      "type": "exercises",
      "mini": [
        {
          "prompt": "Welche Spalte zuerst?",
          "hint": "positivster Zielfunktionskoeffizient",
          "solution": "Pivot‑Spalte",
          "check": {
            "type": "string_contains",
            "expected": "positiv"
          },
          "difficulty": "leicht"
        },
        {
          "prompt": "Quotiententest sinnlos, wenn…",
          "hint": "alle a_{i,p} ≤ 0",
          "solution": "unbeschränkt",
          "check": {
            "type": "string_contains",
            "expected": "unbeschränkt"
          },
          "difficulty": "leicht"
        },
        {
          "prompt": "Degeneration führt zu…",
          "hint": "z bleibt gleich, evtl. Zyklen",
          "solution": "Bland‑Regel hilft",
          "check": {
            "type": "string_contains",
            "expected": "Bland"
          },
          "difficulty": "leicht",
          "steps": [
            "z bleibt gleich, evtl.",
            "Zyklen"
          ]
        },
        {
          "prompt": "Formuliere die Rabattkette in Faktorform (Textantwort).",
          "solution": "P_netto = P0 · ∏(1−r_k) · (1−s)",
          "check": {
            "type": "string_contains",
            "expected": "1−"
          },
          "covers_outcomes": [
            0
          ],
          "difficulty": "mittel"
        },
        {
          "prompt": "Formuliere die Rabattkette in Faktorform (Textantwort).",
          "solution": "P_netto = P0 · ∏(1−r_k) · (1−s)",
          "check": {
            "type": "string_contains",
            "expected": "1−"
          },
          "covers_outcomes": [
            1
          ],
          "difficulty": "mittel"
        },
        {
          "prompt": "Formuliere die Rabattkette in Faktorform (Textantwort).",
          "solution": "P_netto = P0 · ∏(1−r_k) · (1−s)",
          "check": {
            "type": "string_contains",
            "expected": "1−"
          },
          "covers_outcomes": [
            2
          ],
          "difficulty": "mittel"
        }
      ],
      "long": [
        {
          "title": "Praxis – Produktmix (klein) per Simplex",
          "context": "max z=25x₁+20x₂; 2x₁+x₂≤8; x₁+2x₂≤8; x≥0.",
          "subtasks": [
            {
              "text": "Standardform mit Slacks."
            },
            {
              "text": "2–3 Simplex‑Iterationen skizzieren."
            },
            {
              "text": "Lösung und Interpretation."
            }
          ],
          "hints": [
            "+s₁,+s₂.",
            "Pivot‑Spalte x₁ oder x₂ je c_j.",
            "Optimum (x₁,x₂)=(?); z≈? je Rechenschritt."
          ],
          "solutions": [
            "Ecke bestimmt",
            "z berechnet",
            "Interpretation ok"
          ],
          "checks": [
            {
              "type": "free_form",
              "keywords": [
                "Pivot",
                "Slack",
                "Ecke"
              ]
            }
          ],
          "difficulty": "leicht",
          "steps": [
            "Ecke bestimmt",
            "z berechnet",
            "Interpretation ok"
          ]
        }
      ]
    },
    {
      "type": "common_mistakes",
      "items": [
        "Falsche Pivot‑Spalte (negatives c̄_j gewählt).",
        "Quotienten mit negativen a_{i,p} gebildet.",
        "Nichtnegativität vergessen – negative RHS zugelassen."
      ]
    },
    {
      "type": "quiz",
      "items": [
        {
          "type": "single_choice",
          "question": "Pivot‑Zeile bestimmt man mit…",
          "options": [
            "größtem a_{i,p}",
            "kleinstem RHS",
            "minimalem positiven RHS/a_{i,p}"
          ],
          "answer_index": 2,
          "rationale": "Quotiententest.",
          "difficulty": "leicht",
          "feedback_correct": "Richtig. Quotiententest.",
          "feedback_incorrect": "Beachte: Faktorrechnung bei Kettenrabatten; Skonto nach Rabatt anwenden."
        },
        {
          "type": "true_false",
          "question": "Alternative Optima möglich, wenn ein Nichtbasis‑c̄_j=0 ist.",
          "answer": true,
          "rationale": "Kantenoptimum.",
          "difficulty": "leicht",
          "feedback_correct": "Richtig. Kantenoptimum.",
          "feedback_incorrect": "Beachte: Faktorrechnung bei Kettenrabatten; Skonto nach Rabatt anwenden."
        },
        {
          "type": "single_choice",
          "question": "Zwei‑Phasen‑Methode dient…",
          "options": [
            "Schneller rechnen",
            "Zulässige Basis finden",
            "Zielfunktion skalieren"
          ],
          "answer_index": 1,
          "rationale": "Bei =/≥‑Restriktionen.",
          "difficulty": "leicht",
          "feedback_correct": "Richtig. Bei =/≥‑Restriktionen.",
          "feedback_incorrect": "Beachte: Faktorrechnung bei Kettenrabatten; Skonto nach Rabatt anwenden."
        },
        {
          "type": "true_false",
          "question": "Kettenrabatte werden addiert.",
          "answer": false,
          "rationale": "Rabatte als Faktoren multiplizieren; nicht addieren.",
          "covers_outcomes": [
            0
          ],
          "difficulty": "mittel",
          "feedback_correct": "Richtig. Rabatte als Faktoren multiplizieren; nicht addieren.",
          "feedback_incorrect": "Beachte: Faktorrechnung bei Kettenrabatten; Skonto nach Rabatt anwenden."
        },
        {
          "type": "true_false",
          "question": "Skonto wird auf den bereits rabattierten Preis angewendet.",
          "answer": true,
          "rationale": "Reihenfolge: Rabatt(e) → Skonto (auf den rabattierten Preis).",
          "covers_outcomes": [
            1
          ],
          "difficulty": "mittel",
          "feedback_correct": "Richtig. Reihenfolge: Rabatt(e) → Skonto (auf den rabattierten Preis).",
          "feedback_incorrect": "Beachte: Faktorrechnung bei Kettenrabatten; Skonto nach Rabatt anwenden."
        },
        {
          "type": "true_false",
          "question": "Kettenrabatte werden addiert.",
          "answer": false,
          "rationale": "Rabatte als Faktoren multiplizieren; nicht addieren.",
          "covers_outcomes": [
            2
          ],
          "difficulty": "mittel",
          "feedback_correct": "Richtig. Rabatte als Faktoren multiplizieren; nicht addieren.",
          "feedback_incorrect": "Beachte: Faktorrechnung bei Kettenrabatten; Skonto nach Rabatt anwenden."
        }
      ]
    },
    {
      "type": "summary",
      "text": "Du beherrschst Simplex‑Tableaus, Erkennungsmerkmale von Spezialfällen und Interpretation der Lösung."
    },
    {
      "type": "outlook",
      "text": "Als Nächstes: **Dualität & Schattenpreise** – wirtschaftliche Interpretation und Sensitivität."
    }
  ],
  "reading_time_band": "gründlich"
}
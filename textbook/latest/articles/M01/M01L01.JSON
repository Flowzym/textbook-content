{
  "id": "M01L01",
  "title": "Lehrtext – Grundlagen: Zahlen & Grundrechnen – Zahlbereiche, Rechenregeln, Reihenfolge (Rabatt/Skonto)",
  "reading_time_min": 25,
  "prerequisites": [],
  "outcomes": [
    {
      "level": "Remember",
      "text": "Zahlbereiche (ℕ, ℤ, ℚ, ℝ) und deren Beziehung."
    },
    {
      "level": "Understand",
      "text": "Rechenregeln (Kommutativ, Assoziativ, Distributiv) und Vorrangregeln (Klammern–Punkt–Strich)."
    },
    {
      "level": "Apply",
      "text": "Ausdrücke korrekt umformen und berechnen (inkl. negative Zahlen und Brüche)."
    },
    {
      "level": "Analyze",
      "text": "Fehlerquellen in Berechnungen erkennen und begründen (z. B. falsche Reihenfolge)."
    }
  ],
  "blocks": [
    {
      "type": "introduction",
      "text": "Diese Lesson legt das Fundament. Viele Controlling-Aufgaben scheitern nicht am Fachwissen, sondern an kleinen Rechenfehlern.\nWir wiederholen **Zahlbereiche**, **Rechenregeln** und die **richtige Reihenfolge** – mit Beispielen aus Belegen, Kassenabschlüssen und Lagerlisten."
    },
    {
      "type": "concept",
      "title": "Zahlbereiche",
      "text": "- **ℕ** (natürliche Zahlen): 0,1,2,3,… (je nach Konvention mit 0).  \n- **ℤ** (ganze Zahlen): …,−2,−1,0,1,2,…  \n- **ℚ** (rationale Zahlen): Brüche p/q mit ganzen p,q (q≠ 0), endliche/periodische Dezimalzahlen.  \n- **ℝ** (reelle Zahlen): umfasst ℚ und irrationale (√2, π).  \nEinordnung: ℕ ⊂ ℤ ⊂ ℚ ⊂ ℝ.",
      "explanation": "\n\n**Decision-Hints:**\n- Kettenrabatt niemals addieren: immer Faktoren multiplizieren.\n- Skonto auf den bereits rabattierten Preis anwenden."
    },
    {
      "type": "derivation",
      "title": "Rechenregeln & Reihenfolge – Schritt für Schritt",
      "steps": [
        "Kommutativ: a+b=b+a; a·b=b·a (nicht bei Subtraktion/Division).",
        "Assoziativ: (a+b)+c=a+(b+c); (a·b)·c=a·(b·c) (nicht bei Subtraktion/Division).",
        "Distributiv: a·(b+c)=a·b+a·c.",
        "Vorrang: **Klammern** → **Punkt** (·, :) → **Strich** (+, −). Von links nach rechts."
      ],
      "comment": "Sorgfältige Klammerung verhindert die meisten Fehler."
    },
    {
      "type": "visual",
      "title": "ASCII – Vorrangschema",
      "ascii": "Start → [Klammern] → [Punkt: ·, :] → [Strich: +, −] → Ergebnis",
      "caption": "Arbeite stur nach dem Schema, links–rechts bei gleicher Priorität.\n\nHinweis: Bitte Achsen (x/y), Einheiten und Legende ergänzen.",
      "alt_text": "ASCII-Visual: Arbeite stur nach dem Schema, links–rechts bei gleicher Priorität.\n\nHinweis: Bitte Achsen (x/y), Einheiten und Legende ergänzen. — Achsen x/y, Einheiten und Legende beachten."
    },
    {
      "type": "example",
      "subtype": "worked",
      "title": "Worked – Kassenbeleg prüfen",
      "text": "Ausdruck: 120 − 3·(8 − 2·5).  \nSchritt 1: Klammer innen: 8 − 10 = −2.  \nSchritt 2: 3·(−2) = −6.  \nSchritt 3: 120 − (−6) = 126.  \nInterpretation: Rabatt wurde doppelt berücksichtigt? Solche Checks vermeiden Fehlbuchungen.",
      "steps": [
        "Ausdruck: 120 − 3·(8 − 2·",
        "Schritt 1: Klammer innen: 8 − 10 = −",
        "Schritt 2: 3·(−2) = −",
        "Schritt 3: 120 − (−6) =",
        "Interpretation: Rabatt wurde doppelt berücksichtigt? Solche Checks vermeiden Fehlbuchungen"
      ]
    },
    {
      "type": "example",
      "subtype": "fading",
      "title": "Fading – Vorzeichen & Klammern",
      "text": "−(4−7) + 2·(3−5) = ?",
      "solution": [
        "−(−3) + 2·(−2) = 3 − 4 = −1.",
        "Klammern zuerst, dann Punkt, dann Strich."
      ]
    },
    {
      "type": "exercises",
      "mini": [
        {
          "prompt": "Sortiere: ℕ, ℝ, ℚ, ℤ – was ist Teilmenge wovon?",
          "hint": "ℕ⊂ℤ⊂ℚ⊂ℝ",
          "solution": "siehe Kette",
          "check": {
            "type": "string_contains",
            "expected": "ℕ⊂ℤ"
          },
          "difficulty": "leicht"
        },
        {
          "prompt": "Wende Distributivgesetz an: 7·(x−3)",
          "hint": "ausmultiplizieren",
          "solution": "7x − 21",
          "check": {
            "type": "string_contains",
            "expected": "7x"
          },
          "difficulty": "mittel"
        },
        {
          "prompt": "Berechne: 24 : 3 · 2",
          "hint": "links→rechts",
          "solution": "16",
          "check": {
            "type": "numeric",
            "expected": 16
          },
          "difficulty": "leicht"
        },
        {
          "prompt": "Formuliere die Rabattkette in Faktorform (Textantwort).",
          "solution": "P_netto = P0 · ∏(1−r_k) · (1−s)",
          "check": {
            "type": "string_contains",
            "expected": "1−"
          },
          "covers_outcomes": [
            0
          ],
          "difficulty": "mittel"
        },
        {
          "prompt": "Formuliere die Rabattkette in Faktorform (Textantwort).",
          "solution": "P_netto = P0 · ∏(1−r_k) · (1−s)",
          "check": {
            "type": "string_contains",
            "expected": "1−"
          },
          "covers_outcomes": [
            1
          ],
          "difficulty": "mittel"
        },
        {
          "prompt": "Formuliere die Rabattkette in Faktorform (Textantwort).",
          "solution": "P_netto = P0 · ∏(1−r_k) · (1−s)",
          "check": {
            "type": "string_contains",
            "expected": "1−"
          },
          "covers_outcomes": [
            2
          ],
          "difficulty": "mittel"
        },
        {
          "prompt": "Formuliere die Rabattkette in Faktorform (Textantwort).",
          "solution": "P_netto = P0 · ∏(1−r_k) · (1−s)",
          "check": {
            "type": "string_contains",
            "expected": "1−"
          },
          "covers_outcomes": [
            3
          ],
          "difficulty": "mittel"
        }
      ],
      "long": [
        {
          "title": "Praxis – Lagerdifferenzen nachrechnen",
          "context": "Inventurliste: Start 850 Stk.; Zugänge 2·(40−5); Abgänge 3·(12+6).",
          "subtasks": [
            {
              "text": "Stelle die Rechnung strukturiert auf (Klammern)."
            },
            {
              "text": "Berechne Endbestand."
            },
            {
              "text": "Prüfe: Ist ein negativer Zwischenschritt plausibel?"
            }
          ],
          "hints": [
            "Punkt vor Strich, links→rechts.",
            "Ergebnis sauber begründen.",
            "Negatives Zwischenergebnis bei Abgängen ok."
          ],
          "solutions": [
            "Reihenfolge korrekt",
            "Endbestand korrekt",
            "Plausibilität kommentiert"
          ],
          "checks": [
            {
              "type": "numeric_range",
              "min": 0,
              "max": 2000
            }
          ],
          "difficulty": "leicht",
          "steps": [
            "Reihenfolge korrekt",
            "Endbestand korrekt",
            "Plausibilität kommentiert"
          ]
        }
      ]
    },
    {
      "type": "common_mistakes",
      "items": [
        "Punkt-vor-Strich ignoriert (z. B. 24:3·2 als 24:(3·2)=4).",
        "Minuszeichen vor Klammern vergessen (−(a−b)≠ −a−b).",
        "Kommutativität auf Subtraktion/Division fälschlich angewendet."
      ]
    },
    {
      "type": "quiz",
      "items": [
        {
          "type": "single_choice",
          "question": "Welche Operation ist nicht kommutativ?",
          "options": [
            "Addition",
            "Multiplikation",
            "Subtraktion"
          ],
          "answer_index": 2,
          "rationale": "Reihenfolge zählt.",
          "difficulty": "leicht",
          "feedback_correct": "Richtig. Reihenfolge zählt.",
          "feedback_incorrect": "Beachte: Faktorrechnung bei Kettenrabatten; Skonto nach Rabatt anwenden."
        },
        {
          "type": "true_false",
          "question": "Distributivgesetz gilt für Multiplikation über Addition/Subtraktion.",
          "answer": true,
          "rationale": "a·(b±c)=a·b±a·c.",
          "difficulty": "leicht",
          "feedback_correct": "Richtig. a·(b±c)=a·b±a·c.",
          "feedback_incorrect": "Beachte: Faktorrechnung bei Kettenrabatten; Skonto nach Rabatt anwenden."
        },
        {
          "type": "single_choice",
          "question": "Was kommt zuerst?",
          "options": [
            "Strichrechnung",
            "Punktrechnung",
            "alles egal"
          ],
          "answer_index": 1,
          "rationale": "Vorrangregeln.",
          "difficulty": "leicht",
          "feedback_correct": "Richtig. Vorrangregeln.",
          "feedback_incorrect": "Beachte: Faktorrechnung bei Kettenrabatten; Skonto nach Rabatt anwenden."
        },
        {
          "type": "true_false",
          "question": "Kettenrabatte werden addiert.",
          "answer": false,
          "rationale": "Rabatte als Faktoren multiplizieren; nicht addieren.",
          "covers_outcomes": [
            0
          ],
          "difficulty": "mittel",
          "feedback_correct": "Richtig. Rabatte als Faktoren multiplizieren; nicht addieren.",
          "feedback_incorrect": "Beachte: Faktorrechnung bei Kettenrabatten; Skonto nach Rabatt anwenden."
        },
        {
          "type": "true_false",
          "question": "Skonto wird auf den bereits rabattierten Preis angewendet.",
          "answer": true,
          "rationale": "Reihenfolge: Rabatt(e) → Skonto (auf den rabattierten Preis).",
          "covers_outcomes": [
            1
          ],
          "difficulty": "mittel",
          "feedback_correct": "Richtig. Reihenfolge: Rabatt(e) → Skonto (auf den rabattierten Preis).",
          "feedback_incorrect": "Beachte: Faktorrechnung bei Kettenrabatten; Skonto nach Rabatt anwenden."
        },
        {
          "type": "true_false",
          "question": "Kettenrabatte werden addiert.",
          "answer": false,
          "rationale": "Rabatte als Faktoren multiplizieren; nicht addieren.",
          "covers_outcomes": [
            2
          ],
          "difficulty": "mittel",
          "feedback_correct": "Richtig. Rabatte als Faktoren multiplizieren; nicht addieren.",
          "feedback_incorrect": "Beachte: Faktorrechnung bei Kettenrabatten; Skonto nach Rabatt anwenden."
        },
        {
          "type": "true_false",
          "question": "Skonto wird auf den bereits rabattierten Preis angewendet.",
          "answer": true,
          "rationale": "Reihenfolge: Rabatt(e) → Skonto (auf den rabattierten Preis).",
          "covers_outcomes": [
            3
          ],
          "difficulty": "mittel",
          "feedback_correct": "Richtig. Reihenfolge: Rabatt(e) → Skonto (auf den rabattierten Preis).",
          "feedback_incorrect": "Beachte: Faktorrechnung bei Kettenrabatten; Skonto nach Rabatt anwenden."
        }
      ]
    },
    {
      "type": "summary",
      "text": "Du beherrschst Zahlbereiche und Rechenregeln inkl. Vorrang. Das ist die Basis für Brüche, Prozente und Gleichungen."
    },
    {
      "type": "outlook",
      "text": "Als Nächstes: **Brüche & Dezimalzahlen** – sicher umwandeln und rechnen, praxisnah in Rabatten und Quoten."
    }
  ],
  "reading_time_band": "gründlich",
  "meta": {
    "repair": {
      "fixed_by": "auto_repair_v2",
      "note": "latest invalid (empty); filled from curated (ok)"
    }
  }
}
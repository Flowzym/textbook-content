{
  "id": "M12L02",
  "title": "Lehrtext – Grundlagen: Double Machine Learning – Orthogonalisierung, Cross‑Fitting & CATE (Rabatt/Skonto)",
  "reading_time_min": 36,
  "prerequisites": [
    "M12L01",
    "M10L02",
    "M10L04",
    "M12L02"
  ],
  "outcomes": [
    {
      "level": "Understand",
      "text": "Neyman‑Orthogonalität: Störschätzer‑Fehler beeinflussen Ziel kaum."
    },
    {
      "level": "Apply",
      "text": "ATE/CATE mit DML schätzen (z. B. Promo‑Uplift) und Cross‑Fitting korrekt einsetzen."
    },
    {
      "level": "Analyze",
      "text": "Assumptions (Unconfoundedness, Overlap) prüfen; Modellwahl & Tuning dokumentieren."
    },
    {
      "level": "Remember",
      "text": "Schlüsselkonzepte DML & CATE abfragen."
    },
    {
      "level": "Apply",
      "text": "Regeln/Heuristiken sicher anwenden."
    }
  ],
  "blocks": [
    {
      "type": "quiz",
      "title": "Prüfungsset A – Grundlagen",
      "items": [
        {
          "type": "single_choice",
          "question": "DML setzt auf…",
          "options": [
            "Neyman-Orthogonalität",
            "nur Deep Learning",
            "keine Cross-Validation"
          ],
          "answer_index": 0,
          "rationale": "Robustheit gg. Nuisance-Fehler. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "difficulty": "leicht",
          "feedback_correct": "Richtig. Robustheit gg. Nuisance-Fehler. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "feedback_incorrect": "PLATZHALTER – typischer Fehler",
          "distractor_mapping": [
            {
              "index": 1,
              "mistake": "PLATZHALTER – typischer Fehler",
              "mistake_tag": "misc"
            },
            {
              "index": 2,
              "mistake": "PLATZHALTER – typischer Fehler",
              "mistake_tag": "misc"
            }
          ]
        },
        {
          "type": "true_false",
          "question": "Cross-Fitting reduziert Leakage/Overfit.",
          "answer": true,
          "rationale": "Out-of-fold. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "difficulty": "leicht",
          "feedback_correct": "Richtig. Out-of-fold. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "feedback_incorrect": "PLATZHALTER – typischer Fehler"
        },
        {
          "type": "single_choice",
          "question": "CATE ist…",
          "options": [
            "Durchschnittseffekt",
            "bedingter Effekt je X",
            "kein Effekt"
          ],
          "answer_index": 1,
          "rationale": "Heterogenität. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "difficulty": "leicht",
          "feedback_correct": "Richtig. Heterogenität. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "feedback_incorrect": "PLATZHALTER – typischer Fehler",
          "distractor_mapping": [
            {
              "index": 0,
              "mistake": "PLATZHALTER – typischer Fehler",
              "mistake_tag": "misc"
            },
            {
              "index": 2,
              "mistake": "PLATZHALTER – typischer Fehler",
              "mistake_tag": "misc"
            }
          ]
        },
        {
          "type": "true_false",
          "question": "Lineare Gleichungen löst man durch dieselbe Operation auf beiden Seiten.",
          "answer": true,
          "rationale": "Äquivalenzumformungen: gleicher Schritt links und rechts.",
          "covers_outcomes": [
            0
          ],
          "difficulty": "leicht",
          "feedback_correct": "Richtig. Äquivalenzumformungen: gleicher Schritt links und rechts.",
          "feedback_incorrect": "PLATZHALTER – typischer Fehler"
        },
        {
          "type": "true_false",
          "question": "Beim Umstellen kommt die Punkt-vor-Strich-Regel nicht zum Tragen.",
          "answer": false,
          "rationale": "Zuerst Klammern auflösen, Punkt-vor-Strich beachten.",
          "covers_outcomes": [
            1
          ],
          "difficulty": "leicht",
          "feedback_correct": "Richtig. Zuerst Klammern auflösen, Punkt-vor-Strich beachten.",
          "feedback_incorrect": "PLATZHALTER – typischer Fehler"
        }
      ],
      "preface_overlay": {
        "component": "ExpressiveWritingOverlay",
        "duration_sec": 600,
        "allow_skip": true
      }
    },
    {
      "type": "quiz",
      "title": "Prüfungsset B – Methoden/Modelle",
      "items": [
        {
          "type": "single_choice",
          "question": "Propensity e(x) ist…",
          "options": [
            "P(T=1|X)",
            "E[Y|X]",
            "Var(Y)"
          ],
          "answer_index": 0,
          "rationale": "Behandlungsneigung. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "difficulty": "mittel",
          "feedback_correct": "Richtig. Behandlungsneigung. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "feedback_incorrect": "PLATZHALTER – typischer Fehler",
          "distractor_mapping": [
            {
              "index": 1,
              "mistake": "PLATZHALTER – typischer Fehler",
              "mistake_tag": "misc"
            },
            {
              "index": 2,
              "mistake": "PLATZHALTER – typischer Fehler",
              "mistake_tag": "misc"
            }
          ]
        },
        {
          "type": "true_false",
          "question": "Ohne Overlap (e≈0/1) sind DML-Schätzungen problematisch.",
          "answer": true,
          "rationale": "Extrapolation/Instabilität. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "difficulty": "leicht",
          "feedback_correct": "Richtig. Extrapolation/Instabilität. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "feedback_incorrect": "PLATZHALTER – typischer Fehler"
        },
        {
          "type": "single_choice",
          "question": "Meta-Learner für CATE:",
          "options": [
            "T-/S-/X-/DR-Learner",
            "nur lineares Modell",
            "nur Binning"
          ],
          "answer_index": 0,
          "rationale": "Gängige Ansätze. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "difficulty": "leicht",
          "feedback_correct": "Richtig. Gängige Ansätze. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "feedback_incorrect": "PLATZHALTER – typischer Fehler",
          "distractor_mapping": [
            {
              "index": 1,
              "mistake": "PLATZHALTER – typischer Fehler",
              "mistake_tag": "misc"
            },
            {
              "index": 2,
              "mistake": "PLATZHALTER – typischer Fehler",
              "mistake_tag": "misc"
            }
          ]
        }
      ],
      "preface_overlay": {
        "component": "ExpressiveWritingOverlay",
        "duration_sec": 600,
        "allow_skip": true
      }
    },
    {
      "type": "quiz",
      "title": "Prüfungsset C – Diagnose/Validierung",
      "items": [
        {
          "type": "single_choice",
          "question": "Valider Check:",
          "options": [
            "Overlap-Bereich und Balance",
            "nur Test-Accuracy",
            "AIC"
          ],
          "answer_index": 0,
          "rationale": "Kausale Checks. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "difficulty": "leicht",
          "feedback_correct": "Richtig. Kausale Checks. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "feedback_incorrect": "PLATZHALTER – typischer Fehler",
          "distractor_mapping": [
            {
              "index": 1,
              "mistake": "PLATZHALTER – typischer Fehler",
              "mistake_tag": "misc"
            },
            {
              "index": 2,
              "mistake": "PLATZHALTER – typischer Fehler",
              "mistake_tag": "misc"
            }
          ]
        },
        {
          "type": "true_false",
          "question": "Hyperparameter-Tuning muss strikt innerhalb der Folds erfolgen.",
          "answer": true,
          "rationale": "Kein Data Leakage. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "difficulty": "leicht",
          "feedback_correct": "Richtig. Kein Data Leakage. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "feedback_incorrect": "PLATZHALTER – typischer Fehler"
        },
        {
          "type": "single_choice",
          "question": "Unsicherheit bei DML…",
          "options": [
            "Bootstraps/Asymptotik",
            "nicht nötig",
            "immer Bayes"
          ],
          "answer_index": 0,
          "rationale": "Fehlerbänder. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "difficulty": "leicht",
          "feedback_correct": "Richtig. Fehlerbänder. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "feedback_incorrect": "PLATZHALTER – typischer Fehler",
          "distractor_mapping": [
            {
              "index": 1,
              "mistake": "PLATZHALTER – typischer Fehler",
              "mistake_tag": "misc"
            },
            {
              "index": 2,
              "mistake": "PLATZHALTER – typischer Fehler",
              "mistake_tag": "misc"
            }
          ]
        }
      ],
      "preface_overlay": {
        "component": "ExpressiveWritingOverlay",
        "duration_sec": 600,
        "allow_skip": true
      }
    },
    {
      "type": "quiz",
      "title": "Prüfungsset D – Praxis & Fallen",
      "items": [
        {
          "type": "single_choice",
          "question": "Praxisfalle:",
          "options": [
            "In-fold-Predictions verwenden",
            "Cross-Fitting",
            "Overlap prüfen"
          ],
          "answer_index": 0,
          "rationale": "Bias. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "difficulty": "leicht",
          "feedback_correct": "Richtig. Bias. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "feedback_incorrect": "PLATZHALTER – typischer Fehler",
          "distractor_mapping": [
            {
              "index": 1,
              "mistake": "PLATZHALTER – typischer Fehler",
              "mistake_tag": "misc"
            },
            {
              "index": 2,
              "mistake": "PLATZHALTER – typischer Fehler",
              "mistake_tag": "misc"
            }
          ]
        },
        {
          "type": "true_false",
          "question": "Dokumentation der Tuning-Settings gehört zum Repro-Report.",
          "answer": true,
          "rationale": "Nachvollziehbarkeit. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "difficulty": "leicht",
          "feedback_correct": "Richtig. Nachvollziehbarkeit. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "feedback_incorrect": "PLATZHALTER – typischer Fehler"
        },
        {
          "type": "single_choice",
          "question": "Policy aus CATE…",
          "options": [
            "Cutoff nach ROI/Guardrails",
            "immer Top 100",
            "zufällig"
          ],
          "answer_index": 0,
          "rationale": "Wirtschaftsbezug. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "difficulty": "leicht",
          "feedback_correct": "Richtig. Wirtschaftsbezug. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "feedback_incorrect": "PLATZHALTER – typischer Fehler",
          "distractor_mapping": [
            {
              "index": 1,
              "mistake": "PLATZHALTER – typischer Fehler",
              "mistake_tag": "misc"
            },
            {
              "index": 2,
              "mistake": "PLATZHALTER – typischer Fehler",
              "mistake_tag": "misc"
            }
          ]
        }
      ],
      "preface_overlay": {
        "component": "ExpressiveWritingOverlay",
        "duration_sec": 600,
        "allow_skip": true
      }
    },
    {
      "type": "summary",
      "text": "A–D decken DML & CATE: Begriffe, Methoden, Diagnose und Praxis ab."
    },
    {
      "type": "introduction",
      "text": "PLATZHALTER – Einführung folgt."
    },
    {
      "type": "concept",
      "explanation": "PLATZHALTER – Konzeptdarstellung folgt.\n\n**Decision-Hints:**\n- Lineare Gleichungen isolieren: gleiche Operation auf beiden Seiten.\n- Klammern zuerst auflösen, dann nach x umstellen."
    },
    {
      "type": "derivation",
      "steps": [
        "PLATZHALTER – Herleitung folgt."
      ]
    },
    {
      "type": "visual",
      "ascii": "[PLATZHALTER – Visual folgt]",
      "caption": "PLATZHALTER",
      "alt_text": "ASCII-Visual: PLATZHALTER — Achsen x/y, Einheiten und Legende beachten."
    },
    {
      "type": "example",
      "worked": {
        "title": "PLATZHALTER – Worked Example",
        "steps": [
          "[Schritt 1] …"
        ]
      },
      "fading": {
        "title": "PLATZHALTER – Fading Example",
        "steps": [
          "…"
        ]
      }
    },
    {
      "type": "exercises",
      "mini": [
        {
          "prompt": "PLATZHALTER – Mini 1",
          "solution": "PLATZHALTER",
          "check": {
            "type": "free_form"
          },
          "difficulty": "leicht"
        },
        {
          "prompt": "PLATZHALTER – Mini 2",
          "solution": "PLATZHALTER",
          "check": {
            "type": "free_form"
          },
          "difficulty": "leicht"
        },
        {
          "prompt": "Nenne den Grundsatz zum Lösen linearer Gleichungen (Textantwort).",
          "solution": "Äquivalenzumformungen: gleiche Operation auf beiden Seiten",
          "check": {
            "type": "string_contains",
            "expected": "Operation"
          },
          "covers_outcomes": [
            0
          ],
          "difficulty": "leicht"
        },
        {
          "prompt": "Nenne den Grundsatz zum Lösen linearer Gleichungen (Textantwort).",
          "solution": "Äquivalenzumformungen: gleiche Operation auf beiden Seiten",
          "check": {
            "type": "string_contains",
            "expected": "Operation"
          },
          "covers_outcomes": [
            1
          ],
          "difficulty": "leicht"
        }
      ],
      "long": [
        {
          "title": "PLATZHALTER – Aufgabe",
          "hints": [
            "…"
          ],
          "solution": "PLATZHALTER",
          "check": {
            "type": "free_form"
          },
          "difficulty": "leicht"
        }
      ]
    },
    {
      "type": "common_mistakes",
      "items": [
        {
          "mistake": "PLATZHALTER – typischer Fehler",
          "fix": "PLATZHALTER – Gegenstrategie",
          "mistake_tag": "misc"
        },
        {
          "mistake": "PLATZHALTER – typischer Fehler",
          "fix": "PLATZHALTER – Gegenstrategie",
          "mistake_tag": "misc"
        },
        {
          "mistake": "PLATZHALTER – typischer Fehler",
          "fix": "PLATZHALTER – Gegenstrategie",
          "mistake_tag": "misc"
        }
      ]
    },
    {
      "type": "outlook",
      "text": "PLATZHALTER – Transfer/Weiterführung folgt."
    },
    {
      "type": "summary",
      "content": "Du lernst, Prozentangaben im Alltag sicher zu deuten und korrekt zu rechnen. Wichtig ist die Reihenfolge: Ein Rabatt wirkt zuerst, ein Skonto wird danach auf den bereits reduzierten Preis berechnet. Prozente addiert man nicht, man arbeitet mit Faktoren und multipliziert nacheinander."
    },
    {
      "type": "concept",
      "title": "Alltagsbild: Preisfluss statt Prozent-Summen",
      "items": [
        "Denke an den Preis als Wasserstand: Erst fließt ein Teil durch den Rabatt ab, dann ein weiterer kleiner Teil durch Skonto vom bereits gesunkenen Stand.",
        "Darum darfst du Prozente nicht addieren. Stattdessen verwendest du Faktoren, die du multiplizierst."
      ]
    },
    {
      "type": "derivation",
      "title": "Beispiel: 120 € mit −20 % Rabatt und −3 % Skonto",
      "steps": [
        "Ich rechne den Rabatt: 120 × 0,80 = 96 €.",
        "Dann rechne ich das Skonto auf den neuen Preis: 96 × 0,97 = 93,12 €.",
        "Vergleich mit falscher Addition: Einmalig −23 % ergäbe 92,40 € – das ist nicht korrekt."
      ]
    },
    {
      "type": "visual",
      "title": "Preisfluss bei Rabatt und Skonto",
      "image": "assets/M12L02_priceflow.png",
      "content": "Preisfluss bei Rabatt und Skonto"
    },
    {
      "type": "visual",
      "title": "Addieren vs. Multiplizieren von Prozenten",
      "image": "assets/M12L02_add_vs_mult.png",
      "content": "Addieren vs. Multiplizieren von Prozenten"
    },
    {
      "type": "concept",
      "title": "Regeln auf einen Blick",
      "items": [
        "Prozente → in Faktoren umwandeln: −p % ⇒ × (1 − p/100), +p % ⇒ × (1 + p/100).",
        "Mehrere Schritte nacheinander ⇒ Faktoren multiplizieren.",
        "Skonto folgt in der Praxis nach dem Rabatt."
      ]
    },
    {
      "type": "exercise",
      "title": "Üben – mit Lösungsskizze",
      "items": [
        {
          "id": "E1",
          "stem": "240 € mit 15 % Rabatt und 2 % Skonto.",
          "solution": "240×0,85=204; 204×0,98=199,92 €."
        },
        {
          "id": "E2",
          "stem": "900 € erst +5 %, dann −5 % – zurück zum Start?",
          "solution": "900×1,05×0,95=897,75 €. Nein, nicht neutral."
        }
      ]
    }
  ],
  "reading_time_band": "gründlich",
  "meta": {
    "sources": [
      {
        "source": "canonical_repo",
        "path": "articles/M12/M12L02.JSON",
        "note": "baseline"
      },
      {
        "source": "fixed_all_modules_with_steps",
        "path": "M12/pruefungssets/pruefung-gleichungen/M12L02.json",
        "note": "selected_best_variant"
      }
    ],
    "versionTag": "v20250823-didactic-merge",
    "didactics": {
      "steps": true,
      "blocks_before": 11,
      "blocks_after": 13
    },
    "enriched": true,
    "enriched_version": "v1",
    "assets_base": "assets/"
  }
}
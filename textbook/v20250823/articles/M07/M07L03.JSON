{
  "id": "M07L03",
  "title": "Lehrtext – Grundlagen: Klassische MILP‑Probleme – Rucksack, Set Cover, Standort & Budgetierung (Break-even)",
  "reading_time_min": 108,
  "prerequisites": [
    "M07L02",
    "M07L03"
  ],
  "outcomes": [
    {
      "level": "Understand",
      "text": "Problemklassen und typische Modellierungen (Indices, Nebenbedingungen)."
    },
    {
      "level": "Apply",
      "text": "Rucksack (0/1), Set‑Cover/Personalplanung, Standort (Facility Location) modellieren."
    },
    {
      "level": "Analyze",
      "text": "Greedy/DP‑Heuristiken für Rucksack vergleichen; Aufwands‑/Qualitätstrade‑offs bewerten."
    },
    {
      "level": "Apply",
      "text": "UFL/Set‑Cover/Rucksack modellieren und kleine Branch‑Skizzen anfertigen."
    },
    {
      "level": "Analyze",
      "text": "Stärkere Ungleichungen (valid inequalities) und Preprocessing anwenden."
    }
  ],
  "blocks": [
    {
      "type": "introduction",
      "text": "Ein kompletter Walkthrough für Set‑Cover + A–D‑Prüfungssets zu drei Standardproblemen."
    },
    {
      "type": "example",
      "subtype": "walkthrough",
      "title": "Walkthrough – Mini‑Set‑Cover",
      "text": "Elemente {1,2,3}; Sets S1={1,2}, S2={2,3}, S3={1,3}; Kosten c=[3,3,4].\nModell: min 3y1+3y2+4y3 s.t. y1+y3 ≥1 (elem 1), y1+y2 ≥1 (2), y2+y3 ≥1 (3); y∈{0,1}.\nGreedy Start: wähle S1 (kostenwirksam), dann zur Deckung von 3 noch S2 oder S3 → S2 kostet 3 → Lösung y1=1,y2=1, z=6.\nB&B kurz: Root‑LP gibt y1=1, y2=1, y3=0 (int) → z*=6, Baum trivial (sofort fathom).",
      "worked": {
        "title": "Break-Even",
        "steps": [
          "[Schritt 1] K_fix=€ 12,000,00, p=€ 14,00, k_v=€ 8,- ⇒ x_BE=2,000 Stk."
        ]
      },
      "fading": {
        "title": "Zielgewinn",
        "steps": [
          "G=€ 9,000,00 ⇒ 14x − (12,000+8x) = 9,000 ⇒ x = 3,500 Stk."
        ]
      },
      "steps": [
        "Elemente {1,2,3}; Sets S1={1,2}, S2={2,3}, S3={1,3}; Kosten c=[3,3,4]",
        "Modell: min 3y1+3y2+4y3 s.t. y1+y3 ≥1 (elem 1), y1+y2 ≥1 (2), y2+y3 ≥1 (3); y∈{0,1}",
        "Greedy Start: wähle S1 (kostenwirksam), dann zur Deckung von 3 noch S2 oder S3 → S2 kostet 3 → Lösung y1=1,y2=1, z=",
        "B&B kurz: Root‑LP gibt y1=1, y2=1, y3=0 (int) → z*=6, Baum trivial (sofort fathom"
      ]
    },
    {
      "type": "quiz",
      "title": "Prüfungsset A – Rucksack",
      "items": [
        {
          "type": "single_choice",
          "question": "0/1‑Rucksack Zielfunktion:",
          "options": [
            "min Σ w_i y_i",
            "max Σ v_i y_i",
            "min Σ v_i y_i"
          ],
          "answer_index": 1,
          "rationale": "Werte maximieren. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "difficulty": "leicht",
          "feedback_correct": "Richtig. Werte maximieren. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "feedback_incorrect": "PLATZHALTER – typischer Fehler",
          "distractor_mapping": [
            {
              "index": 0,
              "mistake": "PLATZHALTER – typischer Fehler",
              "mistake_tag": "misc"
            },
            {
              "index": 2,
              "mistake": "PLATZHALTER – typischer Fehler",
              "mistake_tag": "misc"
            }
          ]
        },
        {
          "type": "true_false",
          "question": "Dominanz: wenn w_i≤w_k und v_i≥v_k, dominiert i das Item k.",
          "answer": true,
          "rationale": "Preprocessing. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "difficulty": "leicht",
          "feedback_correct": "Richtig. Preprocessing. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "feedback_incorrect": "PLATZHALTER – typischer Fehler"
        },
        {
          "type": "single_choice",
          "question": "LP‑Relaxation liefert…",
          "options": [
            "oberen Bound (Max)",
            "unteren Bound (Max)",
            "keine Aussage"
          ],
          "answer_index": 0,
          "rationale": "Obere Schranke. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "difficulty": "mittel",
          "feedback_correct": "Richtig. Obere Schranke. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "feedback_incorrect": "PLATZHALTER – typischer Fehler",
          "distractor_mapping": [
            {
              "index": 1,
              "mistake": "PLATZHALTER – typischer Fehler",
              "mistake_tag": "misc"
            },
            {
              "index": 2,
              "mistake": "PLATZHALTER – typischer Fehler",
              "mistake_tag": "misc"
            }
          ]
        },
        {
          "type": "true_false",
          "question": "Die Break-Even-Menge lautet K_fix/(p−k_v).",
          "answer": true,
          "rationale": "Verlustschwelle: Fixkosten durch Stückdeckungsbeitrag p−k_v.",
          "covers_outcomes": [
            0
          ],
          "difficulty": "mittel",
          "feedback_correct": "Richtig. Verlustschwelle: Fixkosten durch Stückdeckungsbeitrag p−k_v.",
          "feedback_incorrect": "PLATZHALTER – typischer Fehler"
        },
        {
          "type": "true_false",
          "question": "Für den Zielgewinn gilt x=(K_fix−G)/(p−k_v).",
          "answer": false,
          "rationale": "Richtig: x=(K_fix+G)/(p−k_v).",
          "covers_outcomes": [
            1
          ],
          "difficulty": "mittel",
          "feedback_correct": "Richtig. Richtig: x=(K_fix+G)/(p−k_v).",
          "feedback_incorrect": "PLATZHALTER – typischer Fehler"
        }
      ],
      "preface_overlay": {
        "component": "ExpressiveWritingOverlay",
        "duration_sec": 600,
        "allow_skip": true
      }
    },
    {
      "type": "quiz",
      "title": "Prüfungsset B – Set Cover",
      "items": [
        {
          "type": "single_choice",
          "question": "Deckungsnebenbedingung:",
          "options": [
            "Σ y_j = 1",
            "Σ y_j ≥ 1 pro Element",
            "Σ y_j ≤ 1"
          ],
          "answer_index": 1,
          "rationale": "Min. eine Deckung. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "difficulty": "leicht",
          "feedback_correct": "Richtig. Min. eine Deckung. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "feedback_incorrect": "PLATZHALTER – typischer Fehler",
          "distractor_mapping": [
            {
              "index": 0,
              "mistake": "PLATZHALTER – typischer Fehler",
              "mistake_tag": "misc"
            },
            {
              "index": 2,
              "mistake": "PLATZHALTER – typischer Fehler",
              "mistake_tag": "misc"
            }
          ]
        },
        {
          "type": "true_false",
          "question": "Weiche Deckungen lassen sich mit Strafkosten modellieren.",
          "answer": true,
          "rationale": "Penalty. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "difficulty": "leicht",
          "feedback_correct": "Richtig. Penalty. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "feedback_incorrect": "PLATZHALTER – typischer Fehler"
        },
        {
          "type": "single_choice",
          "question": "Stärker als Big‑M?",
          "options": [
            "Cover‑Ungleichungen",
            "keine",
            "nur Gleichungen"
          ],
          "answer_index": 0,
          "rationale": "Valid inequalities. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "difficulty": "leicht",
          "feedback_correct": "Richtig. Valid inequalities. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "feedback_incorrect": "PLATZHALTER – typischer Fehler",
          "distractor_mapping": [
            {
              "index": 1,
              "mistake": "PLATZHALTER – typischer Fehler",
              "mistake_tag": "misc"
            },
            {
              "index": 2,
              "mistake": "PLATZHALTER – typischer Fehler",
              "mistake_tag": "misc"
            }
          ]
        }
      ],
      "preface_overlay": {
        "component": "ExpressiveWritingOverlay",
        "duration_sec": 600,
        "allow_skip": true
      }
    },
    {
      "type": "quiz",
      "title": "Prüfungsset C – Standort (UFL)",
      "items": [
        {
          "type": "single_choice",
          "question": "Kopplung in UFL:",
          "options": [
            "x_{i,j} ≤ M·y_j",
            "x_{i,j} ≥ M·y_j",
            "x_{i,j} = y_j"
          ],
          "answer_index": 0,
          "rationale": "Standard. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "difficulty": "mittel",
          "feedback_correct": "Richtig. Standard. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "feedback_incorrect": "PLATZHALTER – typischer Fehler",
          "distractor_mapping": [
            {
              "index": 1,
              "mistake": "PLATZHALTER – typischer Fehler",
              "mistake_tag": "misc"
            },
            {
              "index": 2,
              "mistake": "PLATZHALTER – typischer Fehler",
              "mistake_tag": "misc"
            }
          ]
        },
        {
          "type": "true_false",
          "question": "Fixkosten fließen als f_j y_j in die Zielfunktion.",
          "answer": true,
          "rationale": "Öffnungskosten. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "difficulty": "leicht",
          "feedback_correct": "Richtig. Öffnungskosten. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "feedback_incorrect": "PLATZHALTER – typischer Fehler"
        },
        {
          "type": "single_choice",
          "question": "Stärkere Schranke als M:",
          "options": [
            "Kapazitätsobergrenzen je j",
            "nichts",
            "zufällig"
          ],
          "answer_index": 0,
          "rationale": "Tighter bounds. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "difficulty": "leicht",
          "feedback_correct": "Richtig. Tighter bounds. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "feedback_incorrect": "PLATZHALTER – typischer Fehler",
          "distractor_mapping": [
            {
              "index": 1,
              "mistake": "PLATZHALTER – typischer Fehler",
              "mistake_tag": "misc"
            },
            {
              "index": 2,
              "mistake": "PLATZHALTER – typischer Fehler",
              "mistake_tag": "misc"
            }
          ]
        }
      ],
      "preface_overlay": {
        "component": "ExpressiveWritingOverlay",
        "duration_sec": 600,
        "allow_skip": true
      }
    },
    {
      "type": "quiz",
      "title": "Prüfungsset D – Gemischt",
      "items": [
        {
          "type": "single_choice",
          "question": "Welche Strategie verbessert Startlösungen oft?",
          "options": [
            "Random Start ohne Logik",
            "Greedy nach Quote",
            "keine"
          ],
          "answer_index": 1,
          "rationale": "Gute Heuristik. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "difficulty": "leicht",
          "feedback_correct": "Richtig. Gute Heuristik. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "feedback_incorrect": "PLATZHALTER – typischer Fehler",
          "distractor_mapping": [
            {
              "index": 0,
              "mistake": "PLATZHALTER – typischer Fehler",
              "mistake_tag": "misc"
            },
            {
              "index": 2,
              "mistake": "PLATZHALTER – typischer Fehler",
              "mistake_tag": "misc"
            }
          ]
        },
        {
          "type": "true_false",
          "question": "Valid Inequalities können die optimale Lösung entfernen.",
          "answer": false,
          "rationale": "Nur fraktionale ausschließen. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "difficulty": "leicht",
          "feedback_correct": "Richtig. Nur fraktionale ausschließen. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "feedback_incorrect": "PLATZHALTER – typischer Fehler"
        },
        {
          "type": "single_choice",
          "question": "Wann ist Preprocessing unnötig?",
          "options": [
            "Wenn Modelle klein sind",
            "nie – es hilft fast immer",
            "immer"
          ],
          "answer_index": 1,
          "rationale": "Fast immer nützlich. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "difficulty": "leicht",
          "feedback_correct": "Richtig. Fast immer nützlich. | Typische Fehler: PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler; PLATZHALTER – typischer Fehler",
          "feedback_incorrect": "PLATZHALTER – typischer Fehler",
          "distractor_mapping": [
            {
              "index": 0,
              "mistake": "PLATZHALTER – typischer Fehler",
              "mistake_tag": "misc"
            },
            {
              "index": 2,
              "mistake": "PLATZHALTER – typischer Fehler",
              "mistake_tag": "misc"
            }
          ]
        }
      ],
      "preface_overlay": {
        "component": "ExpressiveWritingOverlay",
        "duration_sec": 600,
        "allow_skip": true
      }
    },
    {
      "type": "summary",
      "text": "Du beherrschst Standard‑MILPs inkl. kurzer Branch‑Skizzen und stärkeren Ungleichungen."
    },
    {
      "type": "concept",
      "explanation": "PLATZHALTER – Konzeptdarstellung folgt.\n\n**Break-Even:** x_BE = K_fix/(p−k_v). G(x)=p·x − (K_fix + k_v·x).\n\n**Decision-Hints:**\n- Break-even, wenn Gewinn=0: x_BE = K_fix/(p−k_v).\n- Zielgewinn mit (K_fix+G)/(p−k_v) berechnen."
    },
    {
      "type": "derivation",
      "steps": [
        "PLATZHALTER – Herleitung folgt."
      ]
    },
    {
      "type": "visual",
      "ascii": "[PLATZHALTER – Visual folgt]",
      "caption": "PLATZHALTER",
      "alt_text": "ASCII-Visual: PLATZHALTER — Achsen x/y, Einheiten und Legende beachten."
    },
    {
      "type": "exercises",
      "mini": [
        {
          "prompt": "PLATZHALTER – Mini 1",
          "solution": "PLATZHALTER",
          "check": {
            "type": "free_form"
          },
          "difficulty": "leicht"
        },
        {
          "prompt": "PLATZHALTER – Mini 2",
          "solution": "PLATZHALTER",
          "check": {
            "type": "free_form"
          },
          "difficulty": "leicht"
        },
        {
          "prompt": "Löse: 7x − 4 = 24",
          "solution": "x=4",
          "check": {
            "type": "numeric",
            "expected": 4
          },
          "difficulty": "leicht"
        },
        {
          "prompt": "BE bei K_fix=€ 15,000,00, p=€ 18,00, k_v=€ 11,-",
          "solution": "x_BE=2,142,86 ≈ 2,143",
          "check": {
            "type": "approx",
            "expected": 2.143,
            "tolerance": 0.05,
            "expr": "2.143"
          },
          "difficulty": "leicht"
        },
        {
          "prompt": "Gib die Break-Even- bzw. Zielgewinnformel an (Textantwort).",
          "solution": "x_BE=K_fix/(p−k_v) bzw. x=(K_fix+G)/(p−k_v)",
          "check": {
            "type": "string_contains",
            "expected": "p−k_v"
          },
          "covers_outcomes": [
            0
          ],
          "difficulty": "mittel"
        },
        {
          "prompt": "Gib die Break-Even- bzw. Zielgewinnformel an (Textantwort).",
          "solution": "x_BE=K_fix/(p−k_v) bzw. x=(K_fix+G)/(p−k_v)",
          "check": {
            "type": "string_contains",
            "expected": "p−k_v"
          },
          "covers_outcomes": [
            1
          ],
          "difficulty": "mittel"
        }
      ],
      "long": [
        {
          "title": "PLATZHALTER – Aufgabe",
          "hints": [
            "…"
          ],
          "solution": "PLATZHALTER",
          "check": {
            "type": "free_form"
          },
          "difficulty": "leicht"
        }
      ]
    },
    {
      "type": "common_mistakes",
      "items": [
        {
          "mistake": "PLATZHALTER – typischer Fehler",
          "fix": "PLATZHALTER – Gegenstrategie",
          "mistake_tag": "misc"
        },
        {
          "mistake": "PLATZHALTER – typischer Fehler",
          "fix": "PLATZHALTER – Gegenstrategie",
          "mistake_tag": "misc"
        },
        {
          "mistake": "PLATZHALTER – typischer Fehler",
          "fix": "PLATZHALTER – Gegenstrategie",
          "mistake_tag": "misc"
        }
      ]
    },
    {
      "type": "outlook",
      "text": "PLATZHALTER – Transfer/Weiterführung folgt."
    },
    {
      "type": "summary",
      "content": "Diese Lektion 'Lehrtext – Grundlagen: Klassische MILP‑Probleme – Rucksack, Set Cover, Standort & Budgetierung (Break-even)' wird ausführlich mit Beispielen und Visualisierungen erklärt. Du findest klare Schritte, häufige Denkfehler und kurze Übungsaufgaben mit Lösungsskizzen."
    },
    {
      "type": "concept",
      "title": "Kernideen verständlich gemacht",
      "items": [
        "Wir arbeiten mit einfachen Bildern im Kopf und bauen das Verständnis Schritt für Schritt auf.",
        "Jeder Rechenschritt wird begründet, damit du ihn sicher anwenden kannst."
      ]
    },
    {
      "type": "visual",
      "title": "Lernlandkarte – Begriffe und Beziehungen",
      "image": "assets/M07L03_concept.png",
      "content": "Lernlandkarte – Begriffe und Beziehungen"
    },
    {
      "type": "exercise",
      "title": "Üben – mit Lösungsskizze",
      "items": [
        {
          "id": "E1",
          "stem": "Übertrage das Konzept in eine kurze Beispielrechnung.",
          "solution": "Gehe die Schritte der Lektion nacheinander durch und begründe jeden Schritt in ganzen Sätzen."
        }
      ]
    }
  ],
  "reading_time_band": "gründlich",
  "meta": {
    "sources": [
      {
        "source": "canonical_repo",
        "path": "articles/M07/M07L03.JSON",
        "note": "baseline"
      },
      {
        "source": "fixed_all_modules_with_steps",
        "path": "M07/pruefungssets/pruefung-gleichungen/M07L03.json",
        "note": "selected_best_variant"
      }
    ],
    "versionTag": "v20250823-didactic-merge",
    "didactics": {
      "steps": true,
      "blocks_before": 11,
      "blocks_after": 13
    },
    "enriched": true,
    "enriched_version": "v1",
    "assets_base": "assets/"
  }
}